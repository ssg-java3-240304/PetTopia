<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/default}">
<head>
    <title>펫시터</title>

    <!--
  - 타임 리프 문법을 써야 하니 href에 th:꼭 붙여서 사용하세요
  - 헤더에서 각 페이지로 넘어가는 링크가 되어있고, HomeController 클래스에서 GetMapping 메소드로 이동을 합니다
  - 나중에 각 페이지를 쓰게 되면, 디렉토리를 만들어서 이동하고 MVC패턴을 쓰면됩니다
  - JavaScript, CSS는 fragments -> header에 다 있습니다 (메인 기준 CSS위에, js는 아래에 있어야 작동이 되는거 같습니다)

  단축키
  1. 컨트롤+알트+쉬프트+L = 현재 페이지 코드 자동정렬입니다
  2. 컨트롤+R = 현재페이지 찾아바꾸기 입니다

  -->
    <style>

        .image-box {
            padding-top: 10px;
            width: 100%; /* 부모 박스의 너비를 100%로 설정 */
            height: 100%; /* 부모 박스의 높이를 설정 */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* 이미지가 부모 박스보다 커질 때 넘치는 부분을 숨기기 */
        }

        .image-thumbnail {
            width: 100%; /* 너비를 부모 박스에 맞춤 */
            height: 100%; /* 높이를 부모 박스에 맞춤 */
            object-fit: cover; /* 이미지 비율을 유지하며 박스를 채우도록 설정 */
        }

    </style>
</head>
<body>
<div layout:fragment="main" class="page-body">
    <section class="hero-wrap hero-wrap-2" style="background-image: url('/images/bg_2.jpg');"
             data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="container">
            <div class="row no-gutters slider-text align-items-end">
                <div class="col-md-9 ftco-animate pb-5">
                    <p class="breadcrumbs mb-2"><span class="mr-2"><a th:href="@{/}">Home  <i
                            class="ion-ios-arrow-forward"></i></a></span>
                        <span>펫시터
							<i class="ion-ios-arrow-forward"></i>
						</span>
                    </p>
                    <h1 class="mb-0 bread">펫시터 리스트</h1>
                </div>
            </div>
        </div>
    </section>

    <section class="ftco-section bg-light">
        <div class="container">
            <!--            [[${petSitterList}]]-->
            <div style="display:flex; border-bottom: #0b0b0b 1px solid; border-top: 20px; padding-bottom: 30px; ">
                <div class="autocomplete-wrapper" style="position: relative;">
                    <form th:action="@{/petsitter/findAddress}" id="findAddressForm" method="post">
                        <input th:value="${address}" type="text" id="input-location" name="address" placeholder="ex) 삼성동, 잠실1동, 잠실2동..."
                               style="flex: 1">
                    </form>
                </div>
                <div>
                    <button type="button" onclick="submitAddressForm()"
                            style="width: 30px; height: 30px;">
                        <img src="/images/searchbtn.PNG" alt="" style="width: 100%; height: 100%;">
                    </button> <!--여기서 동네 조건 검색을 한다-->
                </div>
            </div>
            <div class="row" id="petSitterListContainer">
                <div class="col-md-6 col-lg-3 ftco-animate" th:each="petSitter, stat : ${petSitterList}"
                     th:object="${petSitter}">
                    <a th:href="@{|/petsitter/detail/${petSitter.petSitterId}|}"><!-- 여기 부분에 디테일 페이지로 가는 링크해야 된다-->
                        <div class="staff">
                            <div class="img-wrap d-flex align-items-stretch">
                                <div class="image-box">
                                    <img class="image-thumbnail" th:src="${petSitter.mainImageUrl}"
                                         alt="Profile Image"/>
                                </div>
                            </div>
                            <div class=" pt-3 px-3 pb-4">
                                <span class="position mb-2"
                                      th:text="${petSitter.petSitterAddress.address}">사용자 주소</span>
                                <div>
                                    <span id="starRating">별점 : 4.5</span>
                                    <span id="review">후기 : 100개</span>
                                </div>
                                <div class="faded">
                                    <p th:text="${petSitter.oneLineIntroduce}"></p>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>

            </div>
        </div>
    </section>

    <!-- loader -->
    <div id="ftco-loader" class="show fullscreen">
        <svg class="circular" width="48px" height="48px">
            <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/>
            <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
                    stroke="#F96D00"/>
        </svg>
    </div>
<script>
    function submitAddressForm(){
        const form=document.getElementById('findAddressForm');
        form.submit();
    }
</script>

</div>
</body>
</html>